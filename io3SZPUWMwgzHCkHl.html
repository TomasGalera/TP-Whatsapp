<html><head><base href="https://websim.io/whatsapp-clone/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WhatsApp Clone</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        height: 100%;
    }
    .container {
        display: flex;
        height: 100%;
    }
    .chat-list {
        width: 30%;
        background-color: #f6f6f6;
        border-right: 1px solid #ddd;
        overflow-y: auto;
    }
    .chat-window {
        width: 70%;
        display: flex;
        flex-direction: column;
    }
    .chat-header {
        background-color: #075e54;
        color: white;
        padding: 10px;
    }
    .chat-messages {
        flex-grow: 1;
        overflow-y: auto;
        padding: 10px;
        background-color: #e5ddd5;
    }
    .chat-input {
        display: flex;
        padding: 10px;
        background-color: #f0f0f0;
    }
    .chat-input input {
        flex-grow: 1;
        padding: 10px;
        border: none;
        border-radius: 20px;
    }
    .chat-input button {
        background-color: #128c7e;
        color: white;
        border: none;
        padding: 10px 15px;
        margin-left: 10px;
        border-radius: 50%;
        cursor: pointer;
    }
    .chat-item {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        cursor: pointer;
    }
    .chat-item:hover {
        background-color: #ebebeb;
    }
    .message {
        max-width: 70%;
        padding: 8px 12px;
        margin-bottom: 10px;
        border-radius: 10px;
        clear: both;
    }
    .message.sent {
        background-color: #dcf8c6;
        float: right;
    }
    .message.received {
        background-color: white;
        float: left;
    }
</style>
</head>
<body>
<div class="container">
    <div class="chat-list" id="chatList"></div>
    <div class="chat-window">
        <div class="chat-header" id="chatHeader">Selecciona un chat</div>
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Escribe un mensaje...">
            <button onclick="sendMessage()">➤</button>
        </div>
    </div>
</div>

<script>
const chats = [
    { id: 1, name: "Juan Pérez", messages: [] },
    { id: 2, name: "María García", messages: [] },
    { id: 3, name: "Carlos Rodríguez", messages: [] }
];

let currentChat = null;

function loadChatList() {
    const chatList = document.getElementById('chatList');
    chatList.innerHTML = '';
    chats.forEach(chat => {
        const chatItem = document.createElement('div');
        chatItem.className = 'chat-item';
        chatItem.textContent = chat.name;
        chatItem.onclick = () => selectChat(chat);
        chatList.appendChild(chatItem);
    });
}

function selectChat(chat) {
    currentChat = chat;
    document.getElementById('chatHeader').textContent = chat.name;
    displayMessages();
}

function displayMessages() {
    const chatMessages = document.getElementById('chatMessages');
    chatMessages.innerHTML = '';
    currentChat.messages.forEach(msg => {
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${msg.sent ? 'sent' : 'received'}`;
        messageDiv.textContent = msg.text;
        chatMessages.appendChild(messageDiv);
    });
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function sendMessage() {
    if (!currentChat) return;
    const input = document.getElementById('messageInput');
    const text = input.value.trim();
    if (text) {
        currentChat.messages.push({ text, sent: true });
        displayMessages();
        input.value = '';
        
        // Simular respuesta después de 1 segundo
        setTimeout(() => {
            currentChat.messages.push({ text: "Respuesta automática", sent: false });
            displayMessages();
        }, 1000);
    }
}

document.getElementById('messageInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        sendMessage();
    }
});

loadChatList();
</script>
</body></html>